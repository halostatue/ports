# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/unkn0wn-root/resterm v0.8.0
go.offline_build    no

description         Terminal client for HTTP/GraphQL/gRPC with support for WebSockets, \
                    SSE, workflows, profiling, OpenAPI and response diffs.
long_description    {*}${description}

categories          devel
maintainers         {macports.halostatue.ca:austin @halostatue} \
                    openmaintainer
license             Apache-2

checksums           ${distname}${extract.suffix} \
                    rmd160  115cd1d9a44a0480cb52af1a1a4e813646759886 \
                    sha256  bde553eca366afe3cf663700588241661921f129f5b1eed13dd3075b4c348655 \
                    size    4853345

build.args          ./cmd/${name}
build.pre_args-append -ldflags=\"-X main.version=${version} -X main.commit=macports -X main.date=2025-11-23\"

patchfiles-append   cmd_resterm_main_go-disable-update.patch

destroot {
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/
}
